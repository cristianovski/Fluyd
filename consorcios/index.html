<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glid | Simulador de Cons√≥rcios e Contempladas</title>
    <meta name="description" content="Simule seu cons√≥rcio ou encontre cartas contempladas prontas para uso.">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.glid.com.br/consorcios/">
    <meta property="og:title" content="Glid | Cons√≥rcios Inteligentes e Cartas">
    <meta property="og:description" content="Use a matem√°tica a seu favor. Adquira im√≥veis e ve√≠culos sem pagar os juros abusivos do financiamento banc√°rio.">
    <meta property="og:image" content="https://www.glid.com.br/assets/img/og-image.jpg">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        :root { --bg-dark: #020617; --bg-card: #0f172a; --bg-lighter: #1e293b; --primary: #3b82f6; --accent: #f59e0b; --text-white: #f8fafc; --text-gray: #94a3b8; --success: #10b981; --danger: #ef4444; }
        * { box-sizing: border-box; }
        body { background-color: var(--bg-dark); color: var(--text-white); font-family: 'Outfit', sans-serif; margin: 0; padding: 0; overflow-x: hidden; line-height: 1.6; }
        a { text-decoration: none; transition: 0.3s; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .highlight { color: var(--accent); }

        header { padding: 20px 0; position: fixed; width: 100%; background: rgba(2, 6, 23, 0.95); z-index: 1000; backdrop-filter: blur(10px); border-bottom: 1px solid var(--bg-lighter); }
        .nav-content { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 800; letter-spacing: -1px; color: white; }
        .logo span { color: var(--primary); }
        .btn-header { background: rgba(255,255,255,0.05); padding: 10px 20px; border-radius: 50px; color: white; font-size: 0.9rem; font-weight: 600; border: 1px solid rgba(255,255,255,0.1); }
        .btn-header:hover { background: white; color: var(--bg-dark); }

        .hero-section { padding: 160px 0 60px; }
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: center; }
        .hero-label { background: rgba(245, 158, 11, 0.1); color: var(--accent); padding: 6px 16px; border-radius: 50px; font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; display: inline-block; margin-bottom: 20px; border: 1px solid rgba(245, 158, 11, 0.2); }
        .hero-text h1 { font-size: 3.5rem; line-height: 1.1; margin: 0 0 20px 0; font-weight: 800; letter-spacing: -1px; }
        .hero-text p { color: var(--text-gray); font-size: 1.15rem; margin-bottom: 30px; }

        .simulator-wrapper { background: var(--bg-card); border: 1px solid var(--bg-lighter); border-radius: 24px; padding: 40px; box-shadow: 0 20px 50px -10px rgba(0,0,0,0.5); position: relative; overflow: hidden; margin-bottom: 40px; }
        .simulator-wrapper::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, var(--primary), var(--accent)); }
        
        .step-screen { display: none; animation: fadeIn 0.4s ease; }
        .step-screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .selection-card { background: var(--bg-dark); padding: 20px; border-radius: 12px; margin-bottom: 15px; cursor: pointer; display: flex; align-items: center; gap: 20px; border: 2px solid transparent; transition: 0.2s; }
        .selection-card:hover, .selection-card.selected { border-color: var(--accent); background: rgba(245, 158, 11, 0.05); }
        .icon-box { font-size: 1.8rem; color: var(--accent); }
        
        input, select { width: 100%; background: var(--bg-dark); border: 1px solid var(--bg-lighter); color: white; padding: 18px; border-radius: 12px; margin-bottom: 20px; box-sizing: border-box; font-size: 1rem; font-family: inherit; }
        input:focus, select:focus { outline: none; border-color: var(--primary); }
        label { font-size: 0.8rem; text-transform: uppercase; color: var(--text-gray); font-weight: 700; margin-bottom: 8px; display: block; letter-spacing: 0.5px; }
        
        .btn-action { width: 100%; background: var(--primary); color: white; border: none; padding: 18px; border-radius: 12px; font-weight: 700; font-size: 1.1rem; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 10px; transition: 0.3s; }
        .btn-action:hover { background: #2563eb; transform: translateY(-2px); }
        .btn-outline { background: transparent; border: 1px solid var(--bg-lighter); color: var(--text-gray); }
        .btn-outline:hover { background: var(--bg-lighter); color: white; }

        .result-display { text-align: center; background: var(--bg-dark); padding: 25px; border-radius: 16px; margin-bottom: 20px; border: 1px solid var(--bg-lighter); }
        .big-number { font-size: 2.5rem; font-weight: 800; color: white; margin: 5px 0; }
        .economy-pill { background: rgba(16, 185, 129, 0.15); color: var(--success); padding: 6px 16px; border-radius: 50px; font-size: 0.85rem; font-weight: 700; display: inline-block; margin-bottom: 15px; border: 1px solid rgba(16, 185, 129, 0.3); }

        .partners-section { padding: 50px 0; background: #01040a; border-top: 1px solid var(--bg-lighter); border-bottom: 1px solid var(--bg-lighter); overflow: hidden; white-space: nowrap; position: relative; }
        .marquee-track { display: inline-block; animation: scroll 40s linear infinite; }
        .partners-section:hover .marquee-track { animation-play-state: paused; }
        .partner-logo { display: inline-block; margin: 0 40px; vertical-align: middle; }
        .partner-logo img { height: 35px; width: auto; display: block; filter: grayscale(100%) brightness(0) invert(1); opacity: 0.4; transition: all 0.3s ease; }
        .partner-logo:hover img { opacity: 1; transform: scale(1.1); }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        /* NOVA SE√á√ÉO VIP - ESTOQUE BLINDADO */
        .vip-section { padding: 80px 0; background: #01040a; border-top: 1px solid var(--bg-lighter); }
        .vip-box { background: linear-gradient(135deg, var(--bg-card), #0b1120); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 20px; padding: 40px; }
        .vip-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .tax-compare-box { background: var(--bg-dark); padding: 20px; border-radius: 12px; border: 1px solid var(--bg-lighter); margin-top: 20px; text-align: center; }

        .fat-footer { padding: 80px 0 40px; background: #01040a; border-top: 1px solid rgba(255,255,255,0.05); }
        .footer-grid { display: grid; grid-template-columns: 1.5fr 1fr 1fr 1fr; gap: 50px; margin-bottom: 60px; }
        .footer-brand p { color: var(--text-gray); font-size: 0.9rem; margin-top: 20px; max-width: 250px; }
        .footer-col h4 { color: white; font-size: 1rem; font-weight: 700; margin: 0 0 20px 0; text-transform: uppercase; letter-spacing: 1px; }
        .footer-col ul { list-style: none; padding: 0; margin: 0; }
        .footer-col ul li { margin-bottom: 12px; }
        .footer-col ul li a { color: var(--text-gray); font-size: 0.95rem; }
        .footer-col ul li a:hover { color: var(--primary); }

        .whatsapp-float { position: fixed; bottom: 30px; right: 30px; background-color: #25D366; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2rem; box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4); z-index: 999; }
        .whatsapp-float:hover { transform: scale(1.1); }

        @media (max-width: 992px) { 
            .grid-2 { grid-template-columns: 1fr; gap: 40px; } 
            .vip-grid { grid-template-columns: 1fr; }
            .hero-section { padding: 120px 0 60px; text-align: center; } 
            .hero-text h1 { font-size: 3rem; } 
            .footer-grid { grid-template-columns: 1fr; text-align: center; gap: 40px; }
        }
    </style>

    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-XXXXXXX');</script>
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', 'SEU_PIXEL_ID_AQUI');
    fbq('track', 'PageView');
    </script>
</head>
<body onload="updatePrazos()">
    <header>
        <div class="container nav-content">
            <a href="/" class="logo">Glid<span>.</span></a>
            <a href="https://wa.me/557731420005" class="btn-header">Falar com Consultor</a>
        </div>
    </header>

    <section class="hero-section">
        <div class="container grid-2">
            <div class="hero-text">
                <div class="hero-label">Intelig√™ncia Financeira</div>
                <h1>Planeje do zero ou pegue atalhos. <span class="highlight">Voc√™ escolhe.</span></h1>
                <p>Nossos algoritmos tra√ßam a estrat√©gia de cons√≥rcio perfeita para voc√™, ou encontram uma carta j√° contemplada pronta para uso no nosso estoque oculto.</p>
            </div>

            <div class="simulator-wrapper">
                <div class="step-screen active" id="step-1">
                    <h3>Simular Cons√≥rcio (Nova Cota)</h3>
                    <p style="font-size:0.95rem; color:var(--text-gray); margin-bottom:25px;">Defina o tamanho do seu projeto.</p>
                    <label>Categoria do Bem</label>
                    <select id="tipo_bem" onchange="updatePrazos()">
                        <option value="imovel">üè° Im√≥vel (Casa, Terreno, Constru√ß√£o)</option>
                        <option value="automovel">üöó Autom√≥vel (Carro, Pesados)</option>
                        <option value="motocicleta">üèçÔ∏è Motocicleta</option>
                        <option value="servico">üõ†Ô∏è Servi√ßos / Reformas</option>
                        <option value="eletro">üíª Eletro / Eletr√¥nicos</option>
                    </select>
                    <label>Prazo Desejado</label>
                    <select id="prazo_bem"></select>
                    <label>Valor do Cr√©dito Desejado (R$)</label>
                    <input type="number" id="valor_credito" placeholder="Ex: 250000">
                    <button class="btn-action" onclick="calcularNormal()">Ver Minhas Parcelas <i class="ph-bold ph-arrow-right"></i></button>
                </div>

                <div class="step-screen" id="step-result-normal">
                    <div style="text-align:center;"><div class="economy-pill">üí∞ Voc√™ economiza aprox. R$ <span id="res-economia-normal">--</span> comparado ao banco.</div></div>
                    <div class="result-display" id="box-resultado-normal"></div>
                    <p style="font-size:0.8rem; color:var(--text-gray); text-align:center; margin-bottom: 25px;">
                        ‚ö†Ô∏è <b>Aviso:</b> Valores s√£o simula√ß√µes m√©dias de mercado e sujeitos a aprova√ß√£o de cr√©dito.
                    </p>
                    <a id="btn-wpp-normal" href="#" class="btn-action" style="background:#25D366; color:white;"><i class="ph-bold ph-whatsapp-logo" style="font-size: 1.3rem;"></i> Validar Projeto no WhatsApp</a>
                    <button class="btn-action btn-outline" onclick="nextStep('1')">Refazer Simula√ß√£o</button>
                </div>
            </div>
        </div>
    </section>

    <section class="vip-section">
        <div class="container">
            <div class="vip-box">
                <div style="text-align:center; margin-bottom: 40px;">
                    <div class="hero-label" style="margin-bottom: 10px; font-size: 0.75rem; padding: 6px 16px;"><i class="ph-fill ph-crown"></i> A Rota Expressa</div>
                    <h2 style="font-size: 2.2rem; margin: 0; color: white;">Estoque de Cartas Contempladas</h2>
                    <p style="color:var(--text-gray);">Descubra a taxa de juros equivalente do √°gio e prove para si mesmo que √© mais barato que financiar.</p>
                </div>

                <div class="vip-grid">
                    <div id="vip-form">
                        <label>Categoria Desejada</label>
                        <select id="vip_tipo">
                            <option value="imovel">Im√≥vel (Residencial/Comercial)</option>
                            <option value="veiculo">Ve√≠culo Leve (Carro/Utilit√°rio)</option>
                            <option value="pesado">Ve√≠culo Pesado / M√°quinas / Motos</option>
                        </select>
                        <label>Cr√©dito Desejado (R$)</label>
                        <input type="number" id="vip_credito" placeholder="Ex: 200000">
                        <label>Valor da Entrada (√Ågio Dispon√≠vel na m√£o)</label>
                        <input type="number" id="vip_entrada" placeholder="Ex: 80000">
                        <button class="btn-action" onclick="buscarEstoque()">Analisar Estoque e Juros <i class="ph-bold ph-magnifying-glass"></i></button>
                    </div>

                    <div id="vip-result" style="display:none; flex-direction:column; justify-content:center;">
                        <div id="vip-reprovado" style="display:none; text-align:center;">
                            <i class="ph-fill ph-x-circle" style="font-size: 4rem; color: var(--danger); margin-bottom: 15px;"></i>
                            <h3 style="color:white; margin:0 0 10px 0;">Entrada Insuficiente</h3>
                            <p style="color:var(--text-gray); font-size:0.95rem;">Para cartas contempladas reais e seguras, o mercado exige um √°gio (entrada) m√≠nimo de 35% do valor do cr√©dito. Com esse valor de entrada, sugerimos buscar um cr√©dito menor ou iniciar um cons√≥rcio preditivo conosco.</p>
                            <button class="btn-action btn-outline" onclick="resetVip()">Ajustar Valores</button>
                        </div>

                        <div id="vip-aprovado" style="display:none;">
                            <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); padding: 15px; border-radius: 12px; color: var(--success); font-weight: 700; display:flex; align-items:center; gap:10px; margin-bottom:20px;">
                                <i class="ph-fill ph-check-circle" style="font-size:1.5rem;"></i> Temos op√ß√µes compat√≠veis em estoque!
                            </div>
                            
                            <p style="color:var(--text-gray); font-size:0.9rem;">Com essa entrada, voc√™ assumir√° parcelas em torno de:</p>
                            <div style="font-size:2rem; font-weight:800; color:white; margin-bottom: 15px;"><span id="vip-meses">--</span>x de R$ <span id="vip-parcela">--</span></div>

                            <div class="tax-compare-box">
                                <span style="font-size:0.8rem; text-transform:uppercase; color:var(--text-gray); font-weight:700;">A Matem√°tica do √Ågio (Juros Real Equivalente)</span>
                                <div style="display:flex; justify-content:space-between; align-items:center; margin-top:15px;">
                                    <div style="text-align:left;">
                                        <div style="color:#f87171; font-weight:600; font-size:0.85rem;">No Financiamento:</div>
                                        <div style="font-size:1.2rem; color:white; font-weight:800;"><span id="vip-taxa-banco">--</span>% a.m.</div>
                                    </div>
                                    <div style="font-size:1.5rem; color:var(--text-gray);">VS</div>
                                    <div style="text-align:right;">
                                        <div style="color:var(--success); font-weight:600; font-size:0.85rem;">Na Carta Contemplada:</div>
                                        <div style="font-size:1.2rem; color:white; font-weight:800;"><span id="vip-taxa-real">--</span>% a.m.</div>
                                    </div>
                                </div>
                                <p style="font-size:0.85rem; color:var(--text-gray); margin:15px 0 0 0; text-align:left; line-height:1.4;" id="vip-texto-defesa"></p>
                            </div>

                            <a id="btn-wpp-vip" href="#" class="btn-action" style="margin-top:20px;"><i class="ph-bold ph-whatsapp-logo"></i> Solicitar Lista de Cartas Dispon√≠veis</a>
                            <button class="btn-action btn-outline" onclick="resetVip()">Refazer Simula√ß√£o</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="partners-section">
        <div class="container">
            <p style="text-align:center; color:var(--text-gray); font-size:0.85rem; text-transform:uppercase; letter-spacing:2px; margin-bottom:40px; font-weight:700;">Temos acesso direto aos maiores grupos do Brasil</p>
            <div style="width:100%; overflow:hidden;">
                <div class="marquee-track">
                    <div class="partner-logo"><img src="../assets/img/logos/itau.png" alt="Ita√∫"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/bradesco.png" alt="Bradesco"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/bb.png" alt="BB"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/santander.png" alt="Santander"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/caixa.png" alt="Caixa"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/embracon.png" alt="Embracon"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/itau.png" alt="Ita√∫"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/bradesco.png" alt="Bradesco"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/bb.png" alt="BB"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/santander.png" alt="Santander"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/caixa.png" alt="Caixa"></div>
                    <div class="partner-logo"><img src="../assets/img/logos/embracon.png" alt="Embracon"></div>
                </div>
            </div>
        </div>
    </section>

    <footer class="fat-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand"><a href="/" class="logo">Glid<span>.</span></a><p>O seu hub definitivo para solu√ß√µes de cr√©dito inteligente.</p></div>
                <div class="footer-col"><h4>Cr√©dito R√°pido</h4><ul><li><a href="../emprestimos/">Saque FGTS</a></li><li><a href="../emprestimos/">Consignado</a></li><li><a href="../emprestimos/">Garantia</a></li></ul></div>
                <div class="footer-col"><h4>Sa√∫de & Seguros</h4><ul><li><a href="../seguros/">Planos de Sa√∫de</a></li><li><a href="../seguros/">Seguro Auto</a></li><li><a href="../solar/">Energia Solar</a></li></ul></div>
                <div class="footer-col"><h4>Para Empresas</h4><ul><li><a href="../empresas/">Capital de Giro</a></li><li><a href="../empresas/">Benef√≠cios (VR/VA)</a></li></ul></div>
            </div>
            <div class="footer-bottom">&copy; 2026 Glid Tecnologia Financeira Ltda. CNPJ: 00.000.000/0000-00. Correspondente Banc√°rio.</div>
        </div>
    </footer>

    <script>
        // --- 1. L√ìGICA DO CONS√ìRCIO NOVA COTA (TRADICIONAL) ---
        const MARKET = { 
            imovel: { taxa: 0.23, prazos: [180, 200, 220, 240], temMeia: true }, 
            automovel: { taxa: 0.165, prazos: [50, 80, 100], temMeia: true },
            motocicleta: { taxa: 0.195, prazos: [60, 80], temMeia: false },
            servico: { taxa: 0.25, prazos: [36, 48], temMeia: false },
            eletro: { taxa: 0.15, prazos: [36, 48], temMeia: false }
        };

        const fmt = (v) => v.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'}); 
        const toK = (v) => 'R$ ' + (v/1000).toFixed(0) + 'k';

        function updatePrazos() {
            const tipo = document.getElementById('tipo_bem').value;
            const selectPrazo = document.getElementById('prazo_bem');
            selectPrazo.innerHTML = '';
            MARKET[tipo].prazos.forEach(p => { selectPrazo.innerHTML += `<option value="${p}">${p} meses</option>`; });
        }

        function nextStep(n) { 
            document.querySelectorAll('.step-screen').forEach(e => e.classList.remove('active')); 
            document.getElementById('step-'+n).classList.add('active'); 
        }

        function calcularNormal() {
            const tipo = document.getElementById('tipo_bem').value; 
            const credito = parseFloat(document.getElementById('valor_credito').value);
            const prazo = parseInt(document.getElementById('prazo_bem').value);
            if(!credito) return alert("Digite o valor do cr√©dito!");
            
            const dados = MARKET[tipo]; 
            const totalGlid = credito * (1 + dados.taxa); 
            const parcelaNormal = totalGlid / prazo; 
            const parcelaMeia = parcelaNormal * 0.55; 
            const totalBanco = credito * 2.15; 
            const economia = totalBanco - totalGlid;
            
            let htmlResult = '';
            if(dados.temMeia) {
                htmlResult = `
                    <span style="color:var(--text-gray); font-size:0.8rem; text-transform:uppercase; font-weight:700;">Plano Meia Parcela (At√© Contemplar)</span>
                    <div class="big-number" style="color: var(--success); font-size: 3rem;">R$ ${fmt(parcelaMeia).replace('R$','').trim()}</div>
                    <div style="font-size:0.95rem; color:var(--text-gray); margin-top:15px; padding-top:15px; border-top: 1px solid var(--bg-lighter);">
                        Parcela Integral Padr√£o: <span style="color:white; font-weight:700;">${fmt(parcelaNormal)}</span> em ${prazo}x
                    </div>`;
            } else {
                htmlResult = `
                    <span style="color:var(--text-gray); font-size:0.8rem; text-transform:uppercase; font-weight:700;">Plano Integral</span>
                    <div class="big-number" style="color: white; font-size: 3rem;">R$ ${fmt(parcelaNormal).replace('R$','').trim()}</div>
                    <div style="font-size:0.95rem; color:var(--text-gray); margin-top:15px; padding-top:15px; border-top: 1px solid var(--bg-lighter);">
                        Prazo Selecionado: <span style="color:white; font-weight:700;">${prazo} meses</span>
                    </div>`;
            }

            document.getElementById('box-resultado-normal').innerHTML = htmlResult;
            document.getElementById('res-economia-normal').innerText = (economia/1000).toFixed(0) + ' mil';
            
            let text = `Ol√°! Quero simular um cons√≥rcio do ZERO.%0AüéØ *Bem:* ${tipo.toUpperCase()}%0Aüí∞ *Cr√©dito:* ${fmt(credito)}%0A‚è≥ *Prazo:* ${prazo}x`;
            document.getElementById('btn-wpp-normal').href = `https://wa.me/557731420005?text=${text}`; 
            nextStep('result-normal');
        }

        // --- 2. L√ìGICA DO BUSCADOR VIP DE CARTAS CONTEMPLADAS ---
        
        // Algoritmo Matem√°tico de Juros Equivalente (Busca Bin√°ria - IRR)
        function calcularTaxaEquivalente(pv, pmt, n) {
            let min = 0.00001; let max = 0.20; let i = 0.01;
            for (let iter = 0; iter < 40; iter++) {
                i = (min + max) / 2;
                let pmtCalc = pv * (i * Math.pow(1 + i, n)) / (Math.pow(1 + i, n) - 1);
                if (pmtCalc > pmt) max = i; else min = i;
            }
            return (i * 100).toFixed(2);
        }

        function buscarEstoque() {
            const tipo = document.getElementById('vip_tipo').value;
            const credito = parseFloat(document.getElementById('vip_credito').value);
            const entrada = parseFloat(document.getElementById('vip_entrada').value);

            if(!credito || !entrada) return alert("Preencha o Cr√©dito e a Entrada.");

            document.getElementById('vip-form').style.display = 'none';
            document.getElementById('vip-result').style.display = 'flex';

            // Trava de 35% de Entrada M√≠nima
            if((entrada / credito) < 0.35) {
                document.getElementById('vip-reprovado').style.display = 'block';
                document.getElementById('vip-aprovado').style.display = 'none';
                return;
            }

            // Aprovado - Configura√ß√£o Din√¢mica por Categoria
            document.getElementById('vip-reprovado').style.display = 'none';
            document.getElementById('vip-aprovado').style.display = 'block';

            let meses, taxaBanco, textoDefesa;
            
            if(tipo === 'imovel') {
                meses = 160; 
                taxaBanco = "0.95";
                textoDefesa = "O financiamento imobili√°rio prende voc√™ a 360 parcelas e juros compostos alt√≠ssimos (Tabela SAC). Pagando o √Ågio (entrada), voc√™ foge do banco, quita sua casa na metade do tempo e paga uma taxa real menor que a poupan√ßa.";
            } else if (tipo === 'veiculo') {
                meses = 70;
                taxaBanco = "2.20";
                textoDefesa = "Financiar um carro hoje custa mais de 2% ao m√™s em 60x. No final, voc√™ paga dois carros. A entrada da carta contemplada √© o ped√°gio para voc√™ assumir parcelas justas e n√£o rasgar dinheiro com juros.";
            } else {
                meses = 50;
                taxaBanco = "2.50";
                textoDefesa = "Fuja da desvaloriza√ß√£o acelerada e dos juros de 48x. O √°gio permite que voc√™ pegue seu bem agora e pague parcelas que realmente cabem no seu bolso, com um custo efetivo quase invis√≠vel.";
            }

            // Matem√°tica da Parcela e Taxa Real
            // Saldo Devedor estimado do mercado: (Cr√©dito * 1.25) - Entrada
            const parcela = ((credito * 1.25) - entrada) / meses;
            const valorEmprestadoReal = credito - entrada; // O dinheiro que ele t√° pegando na pr√°tica
            const taxaReal = calcularTaxaEquivalente(valorEmprestadoReal, parcela, meses);

            document.getElementById('vip-meses').innerText = meses;
            document.getElementById('vip-parcela').innerText = parcela.toLocaleString('pt-BR', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('vip-taxa-banco').innerText = taxaBanco;
            document.getElementById('vip-taxa-real').innerText = taxaReal;
            document.getElementById('vip-texto-defesa').innerText = textoDefesa;

            let wpp = `Ol√°! Vi no Buscador de Estoque que voc√™s t√™m cartas contempladas de *${tipo.toUpperCase()}*.%0Aüí∞ *Cr√©dito:* ${fmt(credito)}%0Aüíµ *Entrada na M√£o:* ${fmt(entrada)}%0A%0AQuais as op√ß√µes dispon√≠veis nessa faixa?`;
            document.getElementById('btn-wpp-vip').href = `https://wa.me/557731420005?text=${wpp}`;
        }

        function resetVip() {
            document.getElementById('vip-result').style.display = 'none';
            document.getElementById('vip-reprovado').style.display = 'none';
            document.getElementById('vip-aprovado').style.display = 'none';
            document.getElementById('vip-form').style.display = 'block';
        }
    </script>
</body>
</html>
